# í•„ë£¨ì…˜ (Fillution) í”„ë¡œì íŠ¸

## í”„ë¡œì íŠ¸ ê°œìš”

í•„ë£¨ì…˜ì€ ì‚¬ìš©ì ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ ë° êµ¬ë… ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤. ê°œì¸ì˜ ê±´ê°• ìƒíƒœì™€ ë¼ì´í”„ìŠ¤íƒ€ì¼ì— ë§ëŠ” ì˜ì–‘ì œë¥¼ ì¶”ì²œí•˜ê³ , í¸ë¦¬í•˜ê²Œ êµ¬ë…í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.

## ì£¼ìš” ê¸°ëŠ¥

*   **ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ:** ì„¤ë¬¸ ì¡°ì‚¬ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ê±´ê°• ìƒíƒœë¥¼ ë¶„ì„í•˜ê³ , ìµœì ì˜ ì˜ì–‘ì œë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.
*   **ì •ê¸° êµ¬ë… ê´€ë¦¬:** êµ¬ë… ìƒí’ˆ ëª©ë¡ í™•ì¸, ë°°ì†¡ ì •ë³´ ë° ê²°ì œì¼ ë³€ê²½, êµ¬ë… ì·¨ì†Œ ë“± í¸ë¦¬í•œ êµ¬ë… ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
*   **ì‹¤ì‹œê°„ ìƒë‹´ ì±„íŒ…:** ìƒë‹´ì‚¬ì™€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œí†µí•˜ë©° ê¶ê¸ˆí•œ ì ì„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
*   **í¸ë¦¬í•œ íšŒì›ê°€ì… ë° ë¡œê·¸ì¸:** SMTPë¥¼ í™œìš©í•œ ì´ë©”ì¼ ì¸ì¦, ì•„ì½”ë””ì–¸ í¼, ì†Œì…œ ë¡œê·¸ì¸ ë“± ì‚¬ìš©ì í¸ì˜ì„±ì„ ë†’ì˜€ìŠµë‹ˆë‹¤.
*   **ê´€ë¦¬ì í˜ì´ì§€:** íšŒì›, ì£¼ë¬¸, ìƒí’ˆ, ê²Œì‹œíŒ ë“±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ

*   React
*   Redux Toolkit
*   Material UI
*   Axios
*   SockJS
*   STOMP

### ë°±ì—”ë“œ

*   Spring Boot
*   Spring Data JPA
*   MariaDB
*   Redis
*   JWT
*   Lombok
*   Gradle

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

![ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](https://example.com/architecture-diagram.png)  (ì´ë¯¸ì§€ URL)

## ì£¼ìš” ê¸°ëŠ¥ ì„¤ëª…

### 1. íšŒì›ê°€ì… ë° ë¡œê·¸ì¸

#### ì£¼ìš” ê¸°ëŠ¥

*   SMTPë¥¼ í™œìš©í•œ ì´ë©”ì¼ ì¸ì¦ì„ í†µí•´ ì•ˆì „í•œ íšŒì›ê°€ì…ì„ ì§€ì›í•©ë‹ˆë‹¤.
*   ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸ì„ í†µí•´ ê°„í¸í•˜ê²Œ ë¡œê·¸ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì„¤ëª…

*   **ì´ë©”ì¼ ì¸ì¦ íšŒì›ê°€ì… ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìëŠ” ì´ë©”ì¼ì„ ì•„ì´ë””ë¡œ ì‚¬ìš©í•˜ì—¬ ê°€ì… ê°€ëŠ¥.
    *   SMTPë¥¼ í™œìš©í•œ ì´ë©”ì¼ ì¸ì¦ ê¸°ëŠ¥ í¬í•¨: ê°€ì… ì‹œ ì´ë©”ì¼ë¡œ 6ìë¦¬ ì¸ì¦ë²ˆí˜¸ ë°œì†¡ â†’ ì¸ì¦ ì™„ë£Œ í›„ íšŒì›ê°€ì… ê°€ëŠ¥.
    *   ì¸ì¦ë²ˆí˜¸ì˜ ë§Œë£Œ ì‹œê°„ì€ 5ë¶„ìœ¼ë¡œ ì„¤ì •ë˜ì–´ ìˆì–´ ë¬´í•œ ì¸ì¦ ì‹œë„ë¥¼ ë°©ì§€.
    *   ë¹„ë°€ë²ˆí˜¸ í™•ì¸ ê¸°ëŠ¥ í¬í•¨.
    *   **ì¹´ì¹´ì˜¤ ì£¼ì†Œ API**ë¥¼ ì´ìš©í•œ ì£¼ì†Œ ì…ë ¥ ê¸°ëŠ¥.
    *   íšŒì›ê°€ì… í›„ íšŒì› ì •ë³´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•˜ë©°, ê°€ì… ì™„ë£Œ ì‹œ ì„±ê³µ ë©”ì‹œì§€ë¥¼ ì¶œë ¥.

*   **ë¡œê·¸ì¸ ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìëŠ” ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì—¬ ë¡œê·¸ì¸ ê°€ëŠ¥.
    *   `Enter` í‚¤ ì…ë ¥ ì‹œ ë¡œê·¸ì¸ ì²˜ë¦¬.
    *   ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ í›„ ëˆˆ ëª¨ì–‘ ì•„ì´ì½˜ì„ í´ë¦­í•˜ë©´ ë¹„ë°€ë²ˆí˜¸ë¥¼ í‘œì‹œí•  ìˆ˜ ìˆì–´ ì…ë ¥ ì˜¤ë¥˜ ë°©ì§€ ê°€ëŠ¥.
    *   ì˜ëª»ëœ ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì‹œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥.
    *   **ì¹´ì¹´ì˜¤ ì†Œì…œ ë¡œê·¸ì¸** ì§€ì›:
    *   ë¡œê·¸ì¸ ì„±ê³µ ì‹œ, ì‚¬ìš©ì ì •ë³´ë¥¼ Redux ìŠ¤í† ì–´ì— ì €ì¥í•˜ë©°, ì‚¬ìš©ìì˜ ë§ˆì§€ë§‰ ë¡œê·¸ì¸ ì‹œê°„ì„ ê¸°ë¡í•˜ì—¬ ì¶”í›„ íœ´ë©´ ê³„ì • ê´€ë¦¬ì— í™œìš© ì˜ˆì •.

#### ì½”ë“œ ì˜ˆì‹œ (Java - ë°±ì—”ë“œ)

```
@PostMapping("/register")
public ResponseEntity registerMember(@RequestBody MemberDto memberDto) {
    Member member = memberService.register(memberDto);
    return ResponseEntity.ok("íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
}
```

#### ì½”ë“œ ì˜ˆì‹œ (JavaScript - í”„ë¡ íŠ¸ì—”ë“œ)

```
const handleLogin = async () => {
    const response = await fetch(API_URL + "auth/login", {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded" },
        body: new URLSearchParams({ username: credentials.email, password: credentials.password }),
    });
    const data = await response.json();
    dispatch(setUser({ id: data.id, name: data.name, email: credentials.email, roles: data.roles }));
};
```

### 2. ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ

#### ì£¼ìš” ê¸°ëŠ¥

*   ì„¤ë¬¸ ì¡°ì‚¬ë¥¼ í†µí•´ ì‚¬ìš©ìì˜ ê±´ê°• ìƒíƒœë¥¼ íŒŒì•…í•˜ê³ , ê°œì¸ì—ê²Œ ë§ëŠ” ì˜ì–‘ì œë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤.
*   ì„¤ë¬¸ ì¹´í…Œê³ ë¦¬, í•˜ìœ„ ì¹´í…Œê³ ë¦¬, ì§ˆë¬¸ ëª©ë¡ í‘œì‹œ
*   ì„¤ë¬¸ ì‘ë‹µ ì²˜ë¦¬, ì‘ë‹µ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ê±´ê°• ìƒíƒœë¥¼ ë¶„ì„
*   ê±´ê°• ë¶„ì„ ê²°ê³¼ë¥¼ í† ëŒ€ë¡œ í•„ìš”í•œ ì˜ì–‘ ì„±ë¶„ì„ ì¶”ì²œ

### 3. ì •ê¸° êµ¬ë… ê´€ë¦¬

#### ì£¼ìš” ê¸°ëŠ¥

*   ì •ê¸° êµ¬ë… ìƒí’ˆ ëª©ë¡ í™•ì¸, ë°°ì†¡ ì •ë³´ ë° ê²°ì œì¼ ë³€ê²½, êµ¬ë… ì·¨ì†Œ ë“± í¸ë¦¬í•œ êµ¬ë… ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

#### ì„¤ëª…

*   **ì •ê¸° êµ¬ë… ì¡°íšŒ ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìëŠ” í˜„ì¬ êµ¬ë… ì¤‘ì¸ ì œí’ˆ ëª©ë¡ì„ í™•ì¸í•  ìˆ˜ ìˆìŒ.
    *   í˜„ì¬ íšŒì°¨, ìƒí’ˆëª…, ê°€ê²©, ìˆ˜ëŸ‰ ë“± ê¸°ë³¸ì ì¸ ì •ë³´ ì œê³µ.
    *   ì •ê¸°êµ¬ë… í• ì¸ í˜œíƒ ì ìš©ëœ ê°€ê²© í‘œì‹œ.

*   **ì •ê¸° êµ¬ë… ìƒí’ˆ í¸ì§‘ ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìëŠ” ë‹¤ìŒ íšŒì°¨ì˜ ì •ê¸°êµ¬ë… ìƒí’ˆì„ ì¶”ê°€, ì‚­ì œ, ìˆ˜ëŸ‰ ë³€ê²½ ê°€ëŠ¥.
    *   ìƒí’ˆ ì¶”ê°€: ê¸°ì¡´ ìƒí’ˆ ëª©ë¡ì—ì„œ ì„ íƒí•˜ì—¬ ì¶”ê°€ ê°€ëŠ¥.
    *   ìƒí’ˆ ì‚­ì œ: ìµœì†Œ 1ê°œ ì´ìƒì˜ ìƒí’ˆì´ ë‚¨ì•„ ìˆì–´ì•¼ í•˜ë©°, ë§ˆì§€ë§‰ ìƒí’ˆ ì‚­ì œ ì‹œ êµ¬ë… í•´ì§€.
    *   **ìƒí’ˆ ì¶”ê°€ ì‹œ ëª¨ë‹¬ì„ ì‚¬ìš©í•˜ì—¬ ì„ íƒ ê°€ëŠ¥**.
    *   **ìƒí’ˆ ì¶”ê°€, ì‚­ì œ, ìˆ˜ëŸ‰ ë³€ê²½ ì‹œ ë¹„ë™ê¸° AJAX ìš”ì²­ì„ í†µí•´ ë°ì´í„°ë² ì´ìŠ¤ì— ì¦‰ì‹œ ë°˜ì˜ë¨.**
    *   êµ¬ë… ê°€ê²© ê³„ì‚° ê¸°ëŠ¥ í¬í•¨: ê¸°ë³¸ ê°€ê²©, í• ì¸ ê¸ˆì•¡, ì´ ê²°ì œ ê¸ˆì•¡ í‘œì‹œ.

*   **ê²°ì œ ê´€ë ¨ ê¸°ëŠ¥**:
    *   ë‹¤ìŒ íšŒì°¨ ê²°ì œì¼ ë³€ê²½: í˜„ì¬ ê²°ì œì¼ ê¸°ì¤€ -15ì¼ ~ +15ì¼ ë‚´ì—ì„œ ë³€ê²½ ê°€ëŠ¥.
    *   ê²°ì œ ìˆ˜ë‹¨ ë³€ê²½: ë„¤ì´ë²„í˜ì´, ì¹´ì¹´ì˜¤í˜ì´, ì‹ ìš©/ì²´í¬ì¹´ë“œ ë“± ë‹¤ì–‘í•œ ê²°ì œ ìˆ˜ë‹¨ ì§€ì›.(ì˜ˆì •)
    *   ìë™ ê²°ì œ ì²˜ë¦¬: ë§¤ì›” ê²°ì œì¼ì´ ë˜ë©´ êµ¬ë… ê°±ì‹  ë° ìë™ ê²°ì œ.

*   **êµ¬ë… ì·¨ì†Œ ê¸°ëŠ¥**:
    *   ì‚¬ìš©ìëŠ” ì–¸ì œë“ ì§€ êµ¬ë…ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìŒ.
    *   êµ¬ë… ì·¨ì†Œ ì‹œ ìƒíƒœê°€ "CANCELLED"ë¡œ ë³€ê²½ë˜ë©°, ì·¨ì†Œëœ êµ¬ë…ì€ ë³µêµ¬í•  ìˆ˜ ì—†ìŒ.
    *   êµ¬ë… í•´ì§€ í›„ì—ë„ í˜„ì¬ íšŒì°¨ì˜ ì œí’ˆì€ ìœ ì§€ë˜ë©°, ë‹¤ìŒ íšŒì°¨ë¶€í„° ê²°ì œë˜ì§€ ì•ŠìŒ.

#### ì½”ë“œ ì˜ˆì‹œ (Java - ë°±ì—”ë“œ)

```
@GetMapping
public ResponseEntity getSubscription(@RequestParam Long memberId) {
    SubscriptionResponseDto subscription = subscriptionService.getSubscription(memberId);
    return ResponseEntity.ok(subscription);
}

@PutMapping("/cancel")
public ResponseEntity cancelSubscription(@RequestBody Map request) {
    subscriptionService.cancelSubscription(Long.parseLong(request.get("subscriptionId")));
    return ResponseEntity.ok(Map.of("message", "êµ¬ë…ì´ ì„±ê³µì ìœ¼ë¡œ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤."));
}
```

#### ì½”ë“œ ì˜ˆì‹œ (JavaScript - í”„ë¡ íŠ¸ì—”ë“œ)

```
const handleQuantityChange = (productId, newQuantity) => {
    dispatch(updateNextSubscriptionItems({ subscriptionId, updatedItems: [{ productId, nextMonthQuantity: newQuantity }] }));
};
```

### 4. ì‹¤ì‹œê°„ ìƒë‹´ ì±„íŒ…

#### ì£¼ìš” ê¸°ëŠ¥

*   ìƒë‹´ì‚¬ì™€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì†Œí†µí•˜ë©° ê¶ê¸ˆí•œ ì ì„ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#### ì„¤ëª…

*   **ì±„íŒ…ë°© ì ‘ì†**: URL íŒŒë¼ë¯¸í„°ì—ì„œ ì±„íŒ…ë°© IDë¥¼ ê°€ì ¸ì™€ ì±„íŒ…ë°© ì ‘ì†
*   **WebSocket ì—°ê²°**: SockJSë¥¼ ì‚¬ìš©í•˜ì—¬ WebSocket ì—°ê²° ë° STOMP í´ë¼ì´ì–¸íŠ¸ í™œì„±í™”
*   **ë©”ì‹œì§€ ì „ì†¡ ë° ìˆ˜ì‹ **: STOMPë¥¼ í†µí•´ ë©”ì‹œì§€ ì „ì†¡ ë° ìˆ˜ì‹ 
*   **ì±„íŒ… ìƒíƒœ ê´€ë¦¬**: ìƒë‹´ì‚¬ ì—°ê²° ì—¬ë¶€, ì±„íŒ… ì¢…ë£Œ ì—¬ë¶€ ë“± ìƒíƒœ ê´€ë¦¬
*   **ì´ì „ ë©”ì‹œì§€ ë¡œë“œ**: ì±„íŒ…ë°© ì ‘ì† ì‹œ ì´ì „ ë©”ì‹œì§€ ë¡œë“œ

### 5. ê´€ë¦¬ì í˜ì´ì§€

#### ì£¼ìš” ê¸°ëŠ¥

*   íšŒì›, ì£¼ë¬¸, ìƒí’ˆ, ê²Œì‹œíŒ ë“±ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## API ì—”ë“œí¬ì¸íŠ¸

### íšŒì› ê´€ë ¨

*   `POST /api/members/register`: íšŒì›ê°€ì…
*   `POST /api/auth/login`: ë¡œê·¸ì¸

### ìƒí’ˆ ê´€ë ¨

*   `GET /api/products`: ìƒí’ˆ ëª©ë¡ ì¡°íšŒ

### êµ¬ë… ê´€ë ¨

*   `GET /api/subscription?memberId={id}`: êµ¬ë… ì •ë³´ ì¡°íšŒ
*   `PUT /api/subscription/cancel`: êµ¬ë… ì·¨ì†Œ

## ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸

*   Member
*   Product
*   Subscription
*   ChatRoom
*   ChatMessage

## ì„¤ì¹˜ ë° ì‹¤í–‰ ë°©ë²•

1.  ê¹ƒí—ˆë¸Œ ì €ì¥ì†Œë¥¼ í´ë¡ í•©ë‹ˆë‹¤.
2.  ë°±ì—”ë“œ: Spring Boot í”„ë¡œì íŠ¸ë¥¼ IDEì—ì„œ ì—´ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.
3.  í”„ë¡ íŠ¸ì—”ë“œ: React í”„ë¡œì íŠ¸ë¥¼ IDEì—ì„œ ì—´ê³  ì‹¤í–‰í•©ë‹ˆë‹¤.

```
git clone [ì €ì¥ì†Œ URL]
cd backend
./gradlew bootRun

cd ../frontend
npm install
npm start
```

## íŒ€ì› ì†Œê°œ

*   [íŒ€ì› 1]: [ì—­í• ]
*   [íŒ€ì› 2]: [ì—­í• ]
*   [íŒ€ì› 3]: [ì—­í• ]

## License

[MIT](LICENSE)

## ì¶”ê°€ ì •ë³´

ì´ í”„ë¡œì íŠ¸ëŠ” ì‚¬ìš©ì ë§ì¶¤í˜• ì˜ì–‘ì œ ì¶”ì²œ ë° êµ¬ë… ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ì½”ë“œ êµ¬ì¡°, API ì„¤ê³„, ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ë§ ë“± ë‹¤ì–‘í•œ ì¸¡ë©´ì—ì„œ ì‹¤ì œ ì„œë¹„ìŠ¤ì— ì ìš©í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„ë˜ì—ˆìŠµë‹ˆë‹¤.

## í–¥í›„ ê°œì„  ì‚¬í•­

*   ì¶”ì²œ ì•Œê³ ë¦¬ì¦˜ ê³ ë„í™”
*   UI/UX ê°œì„ 
*   AI ì±—ë´‡ ì—°ë™

## ğŸš€ í”„ë¡œì íŠ¸ ë°”ë¡œê°€ê¸°

[https://github.com/your-username/fillution-presentation](https://github.com/your-username/fillution-presentation)

## ğŸ™ğŸ» ê¸°ì—¬í•˜ê¸°

ì´ í”„ë¡œì íŠ¸ì— ê¸°ì—¬í•˜ê³  ì‹¶ìœ¼ì‹œë‹¤ë©´, ì–¸ì œë“ ì§€ Pull Requestë¥¼ ë³´ë‚´ì£¼ì„¸ìš”!

## Contact

ê¶ê¸ˆí•œ ì ì´ë‚˜ ì œì•ˆì‚¬í•­ì´ ìˆë‹¤ë©´ ì–¸ì œë“ ì§€ ì—°ë½ì£¼ì„¸ìš”.

*   Email: your-email@example.com

## ğŸ” í•µì‹¬ ì½”ë“œ (ë°±ì—”ë“œ)

### 1. êµ¬ë… ê°±ì‹  ìŠ¤ì¼€ì¤„ëŸ¬

```
@Service
@RequiredArgsConstructor
public class SubscriptionRenewService {
    /**
     *  ë§¤ë§¤ì¼ ìì •(00:00)ì— ì‹¤í–‰ â†’ êµ¬ë…ìƒíƒœê°€ activeì´ë©´ì„œ `nextBillingDate`ê°€ ì˜¤ëŠ˜ì¸ êµ¬ë… ìë™ ê°±ì‹ 
     * - @Scheduled(cron = "0 0 3 * * *") ë§¤ì¼ ìƒˆë²½ 3ì‹œì— ì‹¤í–‰
     * - "0 0 0 * * ?" ë§¤ì¼ ìì • (00:00:00) ì‹¤í–‰
     * - "0 30 6 * * ?"   ë§¤ì¼ ì˜¤ì „ 6ì‹œ 30ë¶„ ì‹¤í–‰
     * - "0 0 12 * * ?"   ë§¤ì¼ ì •ì˜¤(12:00) ì‹¤í–‰
     * - "0 * * * * ?"   ë§¤ ë¶„ 0ì´ˆì— ì‹¤í–‰ (1ë¶„ë§ˆë‹¤ ì‹¤í–‰)
     * - "ë³„/30 * * * * ?"   30ì´ˆë§ˆë‹¤ ì‹¤í–‰
     * - "0 0/10 * * * ?"   10ë¶„ë§ˆë‹¤ ì‹¤í–‰
     */
    @Scheduled(cron = "0 0 0 * * ?") // ë§¤ì¼ ìì • ì‹¤í–‰
    @Transactional
    public void processSubscriptionRenewals() {
        System.out.println("ğŸ“… ìë™ êµ¬ë… ê°±ì‹  ì‹¤í–‰ë¨ - í˜„ì¬ ì‹œê°„: " + today);

        //  ì˜¤ëŠ˜ì´ nextBillingDateì¸ ACTIVE êµ¬ë… ì°¾ê¸° (ìë™ ê°±ì‹  ëŒ€ìƒ)
        List subscriptionsToRenew = subscriptionRepository.findByNextBillingDateAndStatus(today, "ACTIVE");
```

### 2. ê°œë³„ êµ¬ë… ê°±ì‹  ì²˜ë¦¬

```
 /**
   * âœ… ê°œë³„ êµ¬ë… ê°±ì‹  ì²˜ë¦¬
   */
  @Transactional
  public void renewSubscription(Subscription oldSubscription) {
                // âœ… ìƒˆ êµ¬ë… ìƒì„±
      Subscription newSubscription = Subscription.builder()
                  // ë™ì¼í•œ ì‚¬ìš©ì, ê¸°ì¡´ êµ¬ë…ì˜ ì‹œì‘ì¼ ìœ ì§€, íšŒì°¨ ì¦ê°€, ë„ë¡œëª…ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
          ... ë“±ë“± ê¸°ì¡´ì— ë“±ë¡ëœ ì •ë³´ ë˜ëŠ” ì´ìš©ìê°€ ìˆ˜ì •í•œ ë‹¤ìŒêµ¬ë… ì •ë³´ 
               // âœ… ì´ì „ êµ¬ë…ì˜ ìƒíƒœë¥¼ EXPIREDë¡œ ë³€ê²½
             // âœ… SubscriptionNextItem â†’ SubscriptionItemìœ¼ë¡œ ì´ë™
      List nextItems = subscriptionNextItemRepository.findBySubscriptionId(oldSubscription.getId())
      for (SubscriptionNextItem nextItem : nextItems) {
          // âœ… ê¸°ì¡´ NextItemì„ SubscriptionItemìœ¼ë¡œ ë³€í™˜í•˜ì—¬ ì €ì¥
          SubscriptionItem newItem = new SubscriptionItem();
           // âœ… ê¸°ì¡´ NextItemì„ ê¸°ë°˜ìœ¼ë¡œ ìƒˆë¡œ ìƒì„± 
      for (SubscriptionNextItem nextItem : nextItems) {
          SubscriptionNextItem newNextItem = new SubscriptionNextItem()
}
```

### 3. êµ¬ë… ì•„ì´í…œ í¸ì§‘

```
@DeleteMapping("/delete-next-item") // ğŸ”¹ DELETE ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸
public ResponseEntity deleteNextSubscriptionItem(@RequestBody Map request) {
    // ğŸ”¹ ìš”ì²­ ë°”ë””ì—ì„œ subscriptionIdì™€ productId ê°’ì„ ê°€ì ¸ì˜´
    Long subscriptionId = request.get("subscriptionId");
    Long productId = request.get("productId");
    // ğŸ”¹ í•„ìˆ˜ ê°’ì´ ì—†ëŠ” ê²½ìš°, 400 Bad Request ì‘ë‹µì„ ë°˜í™˜
    if (subscriptionId == null || productId == null) {
        return ResponseEntity.badRequest().body("âŒ [ERROR] subscriptionId ë˜ëŠ” productIdê°€ ì—†ìŒ!");
    }
    // ğŸ”¹ ì„œë¹„ìŠ¤ ê³„ì¸µì„ í˜¸ì¶œí•˜ì—¬ í•´ë‹¹ êµ¬ë… í•­ëª© ì‚­ì œ ì‹œë„
    boolean deleted = subscriptionService.deleteNextSubscriptionItem(subscriptionId, productId);
        // ğŸ”¹ ì‚­ì œ ì„±ê³µ ì‹œ 200 OK ì‘ë‹µê³¼ í•¨ê»˜ ì„±ê³µ ë©”ì‹œì§€ ë°˜í™˜
        return ResponseEntity.ok(Map.of("message", "ì‚­ì œì„±ê³µ"));

```

### 4. êµ¬ë… ì¡°íšŒ

```
/**
 * ì‚¬ìš©ìì˜ ìµœì‹  í™œì„±í™”ëœ êµ¬ë… ì •ë³´ ì¡°íšŒ API
 * 
 * - íŠ¹ì • ì‚¬ìš©ìì˜ í™œì„±í™”ëœ ì •ê¸°êµ¬ë… ì •ë³´ë¥¼ ì¡°íšŒí•˜ëŠ” ì—”ë“œí¬ì¸íŠ¸
 * - êµ¬ë… ì •ë³´ê°€ ì—†ìœ¼ë©´ ì•ˆë‚´ ë©”ì‹œì§€ë¥¼ ë°˜í™˜
 * - ì˜ëª»ëœ ìš”ì²­(memberId ëˆ„ë½) ë˜ëŠ” ì„œë²„ ì˜¤ë¥˜ ë°œìƒ ì‹œ ì ì ˆí•œ ì‘ë‹µ ì²˜ë¦¬
 */
@GetMapping
public ResponseEntity getSubscription(@RequestParam(value = "memberId", required = false) Long memberId) {    
    // ğŸ”¹ ìš”ì²­ ì‹œ memberIdê°€ ì œê³µë˜ì§€ ì•Šì€ ê²½ìš°, 400 Bad Request ì‘ë‹µ ë°˜í™˜
    if (memberId == null) {
        return ResponseEntity.badRequest().body(Map.of("message", "âŒ memberIdê°€ í•„ìš”í•©ë‹ˆë‹¤."));
    }
    try {
        // ğŸ”¹ ì„œë¹„ìŠ¤ ê³„ì¸µì—ì„œ ì‚¬ìš©ìì˜ ìµœì‹  ì •ê¸°êµ¬ë… ì •ë³´ë¥¼ ê°€ì ¸ì˜´
        SubscriptionResponseDto subscriptionResponse = subscriptionService.getSubscription(memberId);
        // ğŸ”¹ êµ¬ë… ì •ë³´ê°€ ì—†ëŠ” ê²½ìš°, 200 OK ì‘ë‹µê³¼ í•¨ê»˜ ì•ˆë‚´ ë©”ì‹œì§€ ë°˜í™˜
        // ğŸ”¹ ì •ìƒì ìœ¼ë¡œ êµ¬ë… ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ ê²½ìš°, 200 OK ì‘ë‹µê³¼ í•¨ê»˜ êµ¬ë… ì •ë³´ ë°˜í™˜
        return ResponseEntity.ok(subscriptionResponse)
}
```

## ğŸ”‘ í•µì‹¬ ì½”ë“œ (í”„ë¡ íŠ¸ì—”ë“œ)

#### 6.1. react ë¬´í•œ ìŠ¤í¬ë¡¤

IntersectionObserver APIë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„ë˜ì—ˆìŠµë‹ˆë‹¤.

```
  const lastProductRef = useCallback((node) => {
    if (!hasMore || isFetching) return;
    if (observer.current) observer.current.disconnect();

    observer.current = new IntersectionObserver((entries) => {
      if (entries.isIntersecting && remainingProducts.length > 0) {
        setIsFetching(true);

        setTimeout(() => {
          const nextProducts = remainingProducts.slice(0, 2);
          setDisplayedProducts((prev) => [...prev, ...nextProducts]);
          setRemainingProducts((prev) => prev.slice(2));
          setHasMore(remainingProducts.length > 2);
          setIsFetching(false);
        }, 1000);
      }
    });

    if (node) observer.current.observe(node);
  }, [remainingProducts, hasMore, isFetching]);
```

#### 6.2. í•„í„° ê¸°ëŠ¥

```
//ì¹´í…Œê³ ë¦¬ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” API
const fetchCategories = createAsyncThunk(
    'survey/fetchCategories',
    async (_, { rejectWithValue }) => {
        try {
            const response = await fetchWithAuth(`${API_URL}survey/categories`);
            if (!response.ok) {
                throw new Error('Failed to fetch categories');
            }
            return await response.json();
        } catch (error) {
            return rejectWithValue(error.message);
        }
    }
);
//í•„í„°ê¸°ëŠ¥
const surveySlice = createSlice({
    name: 'survey',
    initialState: {
        categories: [],
        filteredCategories: null, *// Added filteredCategories*
        filteredSubCategories: null, *// Added filteredSubCategories*
    reducers: {
   
        setFilteredCategories: (state, action) => {
            state.filteredCategories = action.payload;
        },
        setFilteredSubCategories: (state, action) => {
            state.filteredSubCategories = action.payload;
        },
```

## ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

- `/api/members/register`: íšŒì›ê°€ì…
- `/api/auth/login`: ë¡œê·¸ì¸
- `/api/products`: ìƒí’ˆ ëª©ë¡ ì¡°íšŒ
- `/api/subscription`: êµ¬ë… ì •ë³´ ì¡°íšŒ
- `/api/chat/rooms`: ì±„íŒ…ë°© ê´€ë ¨ API

## í•µì‹¬ ë°ì´í„° ëª¨ë¸

- Member: ì‚¬ìš©ì ì •ë³´ (id, name, email, password, ...)
- Product: ìƒí’ˆ ì •ë³´ (id, name, description, ingredients, ...)
- Subscription: êµ¬ë… ì •ë³´ (id, member_id, product_id, ...)
- ChatRoom: ì±„íŒ…ë°© ì •ë³´ (id, name, ...)
- ChatMessage: ì±„íŒ… ë©”ì‹œì§€ ì •ë³´ (id, chat_room_id, sender_id, ...)
